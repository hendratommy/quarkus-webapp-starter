{#fragment id=menuItems rendered=false}
<li>
  <a href="/" class="menu-item {#if index == 0}active{/if}" aria-current="page"
    >Home</a
  >
</li>
<li>
  <a href="/products" class="menu-item {#if index == 1}active{/if}">Products</a>
</li>
<li>
  <a href="#" class="menu-item {#if index == 2}active{/if}">Company</a>
</li>
<li>
  <a href="#" class="menu-item {#if index == 3}active{/if}">Team</a>
</li>
<li>
  <a href="#" class="menu-item {#if index == 4}active{/if}">Contact</a>
</li>
{/fragment}

{#fragment id=topNav}
{@Integer index}
<nav class="bg-white border-gray-200 py-2.5 dark:bg-gray-900">
  <div
    class="flex flex-wrap items-center justify-between max-w-screen-xl px-4 mx-auto"
  >
    <a href="#" class="flex items-center">
      <img src="/static/images/logo.svg" class="h-6 mr-3 sm:h-9" alt="Logo" />
      <span
        class="self-center text-xl font-semibold whitespace-nowrap dark:text-white"
        >Lorem Ipsum</span
      >
    </a>
    <div class="flex items-center lg:hidden">
      <sl-drawer id="drawer" placement="end">
        <div class="items-center justify-between w-full">
          <ul class="flex flex-col mt-4 font-medium">
            {#include $menuItems /}
          </ul>
        </div>
      </sl-drawer>
      <sl-icon-button
        id="drawer-open-btn"
        name="list"
        label="Menu"
        class="text-xl"
      ></sl-icon-button>
    </div>
    <div
      class="items-center justify-between hidden w-full lg:flex lg:w-auto lg:order-1"
    >
      <ul
        class="flex flex-col mt-4 font-medium lg:flex-row lg:space-x-8 lg:mt-0"
      >
        {#include $menuItems /}
      </ul>
    </div>
  </div>
</nav>
{/fragment}

{#fragment id=topNavScript}
<script type="module">
  function initDrawer() {
    const drawer = document.querySelector("#drawer");
    const drawerOpenBtn = document.querySelector("#drawer-open-btn");
    const drawerCloseBtn = document.querySelector(
      'sl-button[variant="primary"]'
    );

    drawerOpenBtn.addEventListener("click", () => drawer.show());
    if (drawerCloseBtn) {
      drawerCloseBtn.addEventListener("click", () => drawer.hide());
    }
  }

  initDrawer();
</script>
{/fragment}
